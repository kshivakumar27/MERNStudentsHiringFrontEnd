{"ast":null,"code":"import _regeneratorRuntime from\"D:/june28/github upload/hiring/hiring frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/june28/github upload/hiring/hiring frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/june28/github upload/hiring/hiring frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useHistory,withRouter}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import'../node_modules/bootstrap/dist/css/bootstrap.min.css';import'../node_modules/bootstrap/dist/css/bootstrap.css';import{Getupcomingjobs,GetuserbyId,Postinterestedjobs}from\"./api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UpcomingJob(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jobData=_useState2[0],setjobData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setuserData=_useState4[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var upcomingjobs,users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Getupcomingjobs();case 2:upcomingjobs=_context.sent;setjobData(upcomingjobs.data);//getting the details of candidate by his id\n_context.next=6;return GetuserbyId(props.match.params.id);case 6:users=_context.sent;setuserData(users.data);console.log(users.data);case 9:case\"end\":return _context.stop();}}},_callee);})),[]);var history=useHistory();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row float-right mt-5\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-secondary up-lift\",onClick:function onClick(){history.push(\"/interested/\".concat(props.match.params.id));},children:\"upcoming jobs\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Hi \",userData.username,\" here are the some of upcoming jobs to apply accoring to your Qualification and experience\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:jobData.map(function(user){return/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card test-card shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card-header d-flex flex-row justify-content-between bg-secondary text-light\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"devicon-javascript-plain\"}),\" \",/*#__PURE__*/_jsx(\"span\",{class:\"test-topic font-weight-bold\",children:user.companyname})]}),/*#__PURE__*/_jsx(\"span\",{class:\"score-board has-result\",children:/*#__PURE__*/_jsx(\"strong\",{children:user.date})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"font-weight-bold\",children:\"Job Title:\"}),\" \",user.about]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"font-weight-bold\",children:\"Location:\"}),\" \",user.location]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2 float-right\",children:/*#__PURE__*/_jsx(\"button\",{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var unique,details,interested;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:unique=userData.email+user._id;details={email:userData.email,name:userData.username,phone:userData.phone,college:userData.college,year:userData.year,branch:userData.branch,recemail:user.email,jobId:user._id,companyname:user.companyname,about:user.about,date:user.date,unique:unique};console.log(details);//posting the details of candidate  and job details to applied job collection\n_context2.next=5;return Postinterestedjobs(details);case 5:interested=_context2.sent;if(interested.data.message===\"Already applied to this job\"){alert(\"Successfully applied to this job\");}else{alert(\"You Have already applied to this job\");}case 7:case\"end\":return _context2.stop();}}},_callee2);})),class:\"btn btn-outline-secondary up-lift\",children:\"Interested\"})})]})]})});})})]})});}export default withRouter(UpcomingJob);","map":{"version":3,"names":["useHistory","withRouter","React","useEffect","useState","Getupcomingjobs","GetuserbyId","Postinterestedjobs","UpcomingJob","props","jobData","setjobData","userData","setuserData","upcomingjobs","data","match","params","id","users","console","log","history","push","username","map","user","companyname","date","about","location","unique","email","_id","details","name","phone","college","year","branch","recemail","jobId","interested","message","alert"],"sources":["D:/june28/github upload/hiring/hiring frontend/src/upcomingjob.js"],"sourcesContent":["import { useHistory, withRouter } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\r\nimport { Getupcomingjobs, GetuserbyId, Postinterestedjobs } from \"./api\";\r\n\r\nfunction UpcomingJob(props) {\r\n\r\n    let [jobData, setjobData] = useState([])\r\n    let [userData, setuserData] = useState([])\r\n\r\n    useEffect(async () => {\r\n        //getting all the job details\r\n        let upcomingjobs = await Getupcomingjobs();\r\n        setjobData(upcomingjobs.data)\r\n        //getting the details of candidate by his id\r\n        let users = await GetuserbyId(props.match.params.id);\r\n        setuserData(users.data)\r\n        console.log(users.data)\r\n    }, [])\r\n\r\n    let history = useHistory();\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className=\"row float-right mt-5\">\r\n                    <button class=\"btn btn-secondary up-lift\" onClick={() => {\r\n                        history.push(`/interested/${props.match.params.id}`);\r\n                    }}>upcoming jobs</button>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <h2>Hi {userData.username} here are the some of upcoming jobs to apply accoring to your Qualification and experience</h2>\r\n                </div>\r\n                <div className=\"row\">\r\n                    {\r\n                        jobData.map((user) => {\r\n                            return (\r\n                                <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-5\">\r\n                                    <div class=\"card test-card shadow\">\r\n                                        <div class=\"card-header d-flex flex-row justify-content-between bg-secondary text-light\">\r\n                                            <h5>\r\n                                                <i class=\"devicon-javascript-plain\"></i> <span class=\"test-topic font-weight-bold\">{user.companyname}</span>\r\n                                            </h5>\r\n                                            <span class=\"score-board has-result\"><strong>{user.date}</strong></span>\r\n                                        </div>\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"d-flex justify-content-between mt-2\">\r\n                                                <h5><span class=\"font-weight-bold\">Job Title:</span> {user.about}</h5>\r\n                                            </div>\r\n                                            <div class=\"d-flex justify-content-between mt-2\">\r\n                                                <h5><span class=\"font-weight-bold\">Location:</span> {user.location}</h5>\r\n                                            </div>\r\n                                           \r\n                                            <div class=\"d-flex justify-content-between mt-2 float-right\">\r\n                                                <button onClick={async () => {\r\n                                                    let unique = userData.email + user._id;\r\n                                                    let details = { email: userData.email, name: userData.username, phone: userData.phone, college: userData.college, year: userData.year, branch: userData.branch, recemail: user.email, jobId: user._id, companyname: user.companyname, about: user.about,date: user.date, unique: unique }\r\n                                                    console.log(details);\r\n                                                    //posting the details of candidate  and job details to applied job collection\r\n                                                    let interested = await Postinterestedjobs(details)\r\n                                                    if (interested.data.message === \"Already applied to this job\") {\r\n                                                        alert(\"Successfully applied to this job\")\r\n                                                    } else {\r\n                                                        alert(\"You Have already applied to this job\");\r\n                                                       \r\n                                                    }\r\n                                                }} class=\"btn btn-outline-secondary up-lift\">Interested</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(UpcomingJob);"],"mappings":"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"},"metadata":{},"sourceType":"module"}