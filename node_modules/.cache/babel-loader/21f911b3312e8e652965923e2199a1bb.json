{"ast":null,"code":"import _regeneratorRuntime from\"D:/june28/github upload/hiring/hiring frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/june28/github upload/hiring/hiring frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/june28/github upload/hiring/hiring frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useHistory,withRouter}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import'../node_modules/bootstrap/dist/css/bootstrap.min.css';import'../node_modules/bootstrap/dist/css/bootstrap.css';import{Getjobs,GetuserbyId,Postappliedjobs}from\"./api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Job(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jobData=_useState2[0],setjobData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setuserData=_useState4[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var jobs,users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Getjobs();case 2:jobs=_context.sent;setjobData(jobs.data);//getting the details of candidate by his id\n_context.next=6;return GetuserbyId(props.match.params.id);case 6:users=_context.sent;setuserData(users.data);console.log(users.data);case 9:case\"end\":return _context.stop();}}},_callee);})),[]);var history=useHistory();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row float-right mt-5\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-secondary up-lift\",onClick:function onClick(){history.push(\"/applied/\".concat(props.match.params.id));},children:\"Applied jobs\"})}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row float-right mt-5\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-secondary up-lift\",onClick:function onClick(){history.push(\"/interested/\".concat(props.match.params.id));},children:\"Interested jobs\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row float-right mt-5\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-secondary up-lift\",onClick:function onClick(){history.push(\"/upcomingjob/\".concat(props.match.params.id));},children:\"upcomingjobs\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Hi \",userData.username,\" here are the some of jobs apply accoring to your Qualification and experience\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:jobData.map(function(user){return/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card test-card shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card-header d-flex flex-row justify-content-between bg-secondary text-light\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"devicon-javascript-plain\"}),\" \",/*#__PURE__*/_jsx(\"span\",{class:\"test-topic font-weight-bold\",children:user.companyname})]}),/*#__PURE__*/_jsx(\"span\",{class:\"score-board has-result\",children:/*#__PURE__*/_jsx(\"strong\",{children:user.date})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"font-weight-bold\",children:\"Job Title:\"}),\" \",user.jobtitle]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"font-weight-bold\",children:\"Location:\"}),\" \",user.location]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"font-weight-bold\",children:\"Skills Required:\"}),\" \",user.skill]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"font-weight-bold\",children:\"Experince required:\"}),\" \",user.experience,\" years\"]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-between mt-2 float-right\",children:/*#__PURE__*/_jsx(\"button\",{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var unique,details,applied;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:unique=userData.email+user._id;details={email:userData.email,name:userData.username,phone:userData.phone,college:userData.college,year:userData.year,branch:userData.branch,recemail:user.email,jobId:user._id,companyname:user.companyname,jobtitle:user.jobtitle,date:user.date,unique:unique};console.log(details);//posting the details of candidate  and job details to applied job collection\n_context2.next=5;return Postappliedjobs(details);case 5:applied=_context2.sent;if(applied.data.message===\"Already applied to this job\"){alert(\"You Have already applied to this job\");}else{alert(\"Successfully applied to this job\");}case 7:case\"end\":return _context2.stop();}}},_callee2);})),class:\"btn btn-outline-secondary up-lift\",children:\"Apply\"})})]})]})});})})]})});}export default withRouter(Job);","map":{"version":3,"names":["useHistory","withRouter","React","useEffect","useState","Getjobs","GetuserbyId","Postappliedjobs","Job","props","jobData","setjobData","userData","setuserData","jobs","data","match","params","id","users","console","log","history","push","username","map","user","companyname","date","jobtitle","location","skill","experience","unique","email","_id","details","name","phone","college","year","branch","recemail","jobId","applied","message","alert"],"sources":["D:/june28/github upload/hiring/hiring frontend/src/job.js"],"sourcesContent":["import { useHistory, withRouter } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\nimport { Getjobs, GetuserbyId, Postappliedjobs } from \"./api\";\n\nfunction Job(props) {\n\n    let [jobData, setjobData] = useState([])\n    let [userData, setuserData] = useState([])\n\n    useEffect(async () => {\n        //getting all the job details\n        let jobs = await Getjobs();\n        setjobData(jobs.data)\n        //getting the details of candidate by his id\n        let users = await GetuserbyId(props.match.params.id);\n        setuserData(users.data)\n        console.log(users.data)\n    }, [])\n\n    let history = useHistory();\n\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"row float-right mt-5\">\n                    <button class=\"btn btn-secondary up-lift\" onClick={() => {\n                        history.push(`/applied/${props.match.params.id}`);\n                    }}>Applied jobs</button>\n                </div>\n                <div></div>\n                <div className=\"row float-right mt-5\">\n                    <button class=\"btn btn-secondary up-lift\" onClick={() => {\n                        history.push(`/interested/${props.match.params.id}`);\n                    }}>Interested jobs</button>\n                </div>\n                <div className=\"row float-right mt-5\">\n                    <button class=\"btn btn-secondary up-lift\" onClick={() => {\n                        history.push(`/upcomingjob/${props.match.params.id}`);\n                    }}>upcomingjobs</button>\n                </div>\n                <div className=\"row\">\n                    <h2>Hi {userData.username} here are the some of jobs apply accoring to your Qualification and experience</h2>\n                </div>\n                <div className=\"row\">\n                    {\n                        jobData.map((user) => {\n                            return (\n                                <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-5\">\n                                    <div class=\"card test-card shadow\">\n                                        <div class=\"card-header d-flex flex-row justify-content-between bg-secondary text-light\">\n                                            <h5>\n                                                <i class=\"devicon-javascript-plain\"></i> <span class=\"test-topic font-weight-bold\">{user.companyname}</span>\n                                            </h5>\n                                            <span class=\"score-board has-result\"><strong>{user.date}</strong></span>\n                                        </div>\n                                        <div class=\"card-body\">\n                                            <div class=\"d-flex justify-content-between mt-2\">\n                                                <h5><span class=\"font-weight-bold\">Job Title:</span> {user.jobtitle}</h5>\n                                            </div>\n                                            <div class=\"d-flex justify-content-between mt-2\">\n                                                <h5><span class=\"font-weight-bold\">Location:</span> {user.location}</h5>\n                                            </div>\n                                            <div class=\"d-flex justify-content-between mt-2\">\n                                                <h5><span class=\"font-weight-bold\">Skills Required:</span> {user.skill}</h5>\n                                            </div>\n                                            <div class=\"d-flex justify-content-between mt-2\">\n                                                <h5><span class=\"font-weight-bold\">Experince required:</span> {user.experience} years</h5>\n                                            </div>\n                                            <div class=\"d-flex justify-content-between mt-2 float-right\">\n                                                <button onClick={async () => {\n                                                    let unique = userData.email + user._id;\n                                                    let details = { email: userData.email, name: userData.username, phone: userData.phone, college: userData.college, year: userData.year, branch: userData.branch, recemail: user.email, jobId: user._id, companyname: user.companyname, jobtitle: user.jobtitle, date: user.date, unique: unique }\n                                                    console.log(details);\n                                                    //posting the details of candidate  and job details to applied job collection\n                                                    let applied = await Postappliedjobs(details)\n                                                    if (applied.data.message === \"Already applied to this job\") {\n                                                        alert(\"You Have already applied to this job\");\n                                                    } else {\n                                                        alert(\"Successfully applied to this job\")\n                                                    }\n                                                }} class=\"btn btn-outline-secondary up-lift\">Apply</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default withRouter(Job);"],"mappings":"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"},"metadata":{},"sourceType":"module"}